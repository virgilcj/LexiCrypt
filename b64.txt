PCVAIFBhZ2UgTGFuZ3VhZ2U9IkMjIiAlPgo8JUAgSW1wb3J0IE5hbWVzcGFjZT0iU3lzdGVtIiAl
Pgo8JUAgSW1wb3J0IE5hbWVzcGFjZT0iU3lzdGVtLk1hbmFnZW1lbnQuQXV0b21hdGlvbiIgJT4K
CjxzY3JpcHQgcnVuYXQ9InNlcnZlciI+CiAgICBzdHJpbmcgc3Rkb3V0ID0gIiI7CiAgICBzdHJp
bmcgc3RkZXJyID0gIiI7CgogICAgdm9pZCBQYWdlX0xvYWQob2JqZWN0IHNlbmRlciwgU3lzdGVt
LkV2ZW50QXJncyBlKQogICAgewogICAgICAgIGlmIChSZXF1ZXN0LkZvcm1bImMiXSAhPSBudWxs
KQogICAgICAgIHsKICAgICAgICAgICAgdHJ5CiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAg
IC8vIENyZWF0ZSBhIFBvd2VyU2hlbGwgaW5zdGFuY2UKICAgICAgICAgICAgICAgIHVzaW5nICh2
YXIgc2hlbGwgPSBQb3dlclNoZWxsLkNyZWF0ZSgpKQogICAgICAgICAgICAgICAgewogICAgICAg
ICAgICAgICAgICAgIC8vIFNhbml0aXplIHVzZXIgaW5wdXQgKGJhc2ljIGV4YW1wbGUsIGltcHJv
dmUgYXMgbmVlZGVkKQogICAgICAgICAgICAgICAgICAgIHN0cmluZyBjb21tYW5kID0gUmVxdWVz
dC5Gb3JtWyJjIl07CiAgICAgICAgICAgICAgICAgICAgaWYgKCFzdHJpbmcuSXNOdWxsT3JXaGl0
ZVNwYWNlKGNvbW1hbmQpKQogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAg
ICAgICAgLy8gQWRkIGNvbW1hbmQgdG8gUG93ZXJTaGVsbAogICAgICAgICAgICAgICAgICAgICAg
ICBzaGVsbC5BZGRTY3JpcHQoY29tbWFuZCk7CgogICAgICAgICAgICAgICAgICAgICAgICAvLyBJ
bnZva2UgdGhlIGNvbW1hbmQKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdHMgPSBz
aGVsbC5JbnZva2UoKTsKCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENhcHR1cmUgb3V0cHV0
CiAgICAgICAgICAgICAgICAgICAgICAgIGZvcmVhY2ggKHZhciBwc09iamVjdCBpbiByZXN1bHRz
KQogICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBz
dGRvdXQgKz0gcHNPYmplY3QuQmFzZU9iamVjdC5Ub1N0cmluZygpICsgIlxyXG4iOwogICAgICAg
ICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAvLyBDYXB0dXJlIGVy
cm9ycwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2hlbGwuU3RyZWFtcy5FcnJvci5Db3Vu
dCA+IDApCiAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAg
ICAgIGZvcmVhY2ggKHZhciBlcnJvciBpbiBzaGVsbC5TdHJlYW1zLkVycm9yKQogICAgICAgICAg
ICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0ZGVy
ciArPSBlcnJvci5Ub1N0cmluZygpICsgIlxyXG4iOwogICAgICAgICAgICAgICAgICAgICAgICAg
ICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAg
ICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAg
ICAgICAgICAgIHN0ZGVyciA9ICJDb21tYW5kIGNhbm5vdCBiZSBlbXB0eS4iOwogICAgICAgICAg
ICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBj
YXRjaCAoRXhjZXB0aW9uIGV4KQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBzdGRlcnIg
PSAiRXhjZXB0aW9uOiAiICsgZXguTWVzc2FnZTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAg
IH0KPC9zY3JpcHQ+Cgo8aHRtbD4KPGhlYWQ+CiAgICA8dGl0bGU+VEVTVCBURVNUPC90aXRsZT4K
PC9oZWFkPgo8Ym9keSBvbmxvYWQ9ImRvY3VtZW50LnNoZWxsLmMuZm9jdXMoKSI+CiAgICA8Zm9y
bSBtZXRob2Q9InBvc3QiIG5hbWU9InNoZWxsIj4KICAgICAgICBDb21tYW5kIHRvIGV4ZWN1dGU6
IDxpbnB1dCB0eXBlPSJ0ZXh0IiBuYW1lPSJjIiAvPgogICAgICAgIDxpbnB1dCB0eXBlPSJzdWJt
aXQiIC8+PGJyIC8+CiAgICAgICAgT3V0cHV0OjxiciAvPgogICAgICAgIDxwcmU+PCU9IFNlcnZl
ci5IdG1sRW5jb2RlKHN0ZG91dCkgJT48L3ByZT4KICAgICAgICA8YnIgLz4KICAgICAgICBFcnJv
cjo8YnIgLz4KICAgICAgICA8cHJlPjwlPSBTZXJ2ZXIuSHRtbEVuY29kZShzdGRlcnIpICU+PC9w
cmU+CiAgICA8L2Zvcm0+CjwvYm9keT4KPC9odG1sPgoK
